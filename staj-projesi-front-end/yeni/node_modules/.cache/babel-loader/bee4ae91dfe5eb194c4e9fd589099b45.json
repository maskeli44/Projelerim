{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alika\\\\Desktop\\\\REACT TUTORIAL\\\\staj-projesi-front-end\\\\yeni\\\\src\\\\Context.js\";\nimport axios from 'axios';\nimport React, { Component } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst responseURL = \"http://localhost:8080\";\nconst UserContext = /*#__PURE__*/React.createContext();\n\nconst reducer = async (state, action) => {\n  switch (action.type) {\n    case 'showCompany':\n      return { ...state,\n        sirketTableData: {\n          rows: state.sirketTableData.rows.filter(sirket => action.payload !== sirket.id)\n        }\n      };\n\n    case 'studentIdGet':\n      {\n        return { ...state,\n          ogrenci: {\n            id: action.payload\n          }\n        };\n      }\n\n    case 'showIntership':\n      {\n        const ogrenciID = state.ogrenci.id;\n        const response = await axios.get(responseURL + \"/getStudentApplication/\" + ogrenciID);\n        const jsonstring = JSON.stringify(response.data);\n        const data = JSON.parse(jsonstring);\n        state = {\n          stajlar: data\n        };\n        break;\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport class Context extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      sirketTableData: {\n        columns: ['company_name', 'sector', 'email'],\n        showColumns: ['Şirket', 'Sektör', 'E-mail'],\n        rows: []\n      },\n      stajlar: [],\n      ogrenci: {\n        id: '22'\n      },\n      dispatch: action => {\n        this.setState(state => reducer(state, action));\n      }\n    };\n\n    this.componentDidMount = async () => {\n      const response = await axios.get(responseURL + \"/showCompany\");\n      const jsonstring = JSON.stringify(response.data);\n      const data = JSON.parse(jsonstring);\n      this.setState({\n        sirketTableData: {\n          columns: ['company_name', 'sector', 'email'],\n          showColumns: ['Şirket', 'Sektör', 'E-mail'],\n          rows: data\n        }\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n      value: this.state,\n      children: this.props.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this);\n  }\n\n}\nconst UserConsumer = UserContext.Consumer;\nexport default UserConsumer;","map":{"version":3,"names":["axios","React","Component","responseURL","UserContext","createContext","reducer","state","action","type","sirketTableData","rows","filter","sirket","payload","id","ogrenci","ogrenciID","response","get","jsonstring","JSON","stringify","data","parse","stajlar","Context","columns","showColumns","dispatch","setState","componentDidMount","render","props","children","UserConsumer","Consumer"],"sources":["C:/Users/alika/Desktop/REACT TUTORIAL/staj-projesi-front-end/yeni/src/Context.js"],"sourcesContent":["import axios from 'axios';\r\nimport React, { Component } from 'react'\r\nconst responseURL=\"http://localhost:8080\";\r\nconst UserContext = React.createContext();\r\nconst reducer=async(state,action)=>{\r\n  switch(action.type){\r\n    case 'showCompany':\r\n      return{...state,\r\n        sirketTableData: {rows:state.sirketTableData.rows.filter(sirket=>action.payload!==sirket.id)}\r\n      }\r\n    case 'studentIdGet':{\r\n      return{...state, ogrenci:{id:action.payload}}\r\n    }\r\n    case 'showIntership':{\r\n      const ogrenciID=state.ogrenci.id\r\n      const response=await axios.get(responseURL+\"/getStudentApplication/\"+ogrenciID);\r\n      const jsonstring= JSON.stringify(response.data);\r\n      const data = JSON.parse(jsonstring);\r\n      state={\r\n        stajlar:data,\r\n      }\r\n      break;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport  class Context extends Component {\r\n   state={\r\n      sirketTableData : {\r\n        columns: ['company_name','sector','email'],\r\n        showColumns:['Şirket','Sektör','E-mail'],\r\n        rows:[ ]\r\n      },\r\n      stajlar:[],\r\n      ogrenci:{\r\n        id:'22'\r\n      }\r\n      ,\r\n      \r\n      dispatch: action=>{\r\n        this.setState(state=>reducer(state,action))\r\n      },\r\n   }  \r\n  \r\n  componentDidMount= async () =>{\r\n    const response=await  axios.get(responseURL+\"/showCompany\");\r\n    const jsonstring= JSON.stringify(response.data);\r\n    const data = JSON.parse(jsonstring);\r\n    this.setState({\r\n      \r\n      sirketTableData : {\r\n        columns: ['company_name','sector','email'],\r\n        showColumns:['Şirket','Sektör','E-mail'],\r\n        rows:data,\r\n      }\r\n    })\r\n      \r\n  }\r\n\r\n    \r\n  render() {\r\n    \r\n    return (\r\n      <UserContext.Provider value={this.state}>\r\n        {this.props.children}\r\n      </UserContext.Provider>\r\n    )\r\n  }\r\n}\r\n\r\nconst UserConsumer = UserContext.Consumer;\r\n\r\nexport default UserConsumer;"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;AACA,MAAMC,WAAW,GAAC,uBAAlB;AACA,MAAMC,WAAW,gBAAGH,KAAK,CAACI,aAAN,EAApB;;AACA,MAAMC,OAAO,GAAC,OAAMC,KAAN,EAAYC,MAAZ,KAAqB;EACjC,QAAOA,MAAM,CAACC,IAAd;IACE,KAAK,aAAL;MACE,OAAM,EAAC,GAAGF,KAAJ;QACJG,eAAe,EAAE;UAACC,IAAI,EAACJ,KAAK,CAACG,eAAN,CAAsBC,IAAtB,CAA2BC,MAA3B,CAAkCC,MAAM,IAAEL,MAAM,CAACM,OAAP,KAAiBD,MAAM,CAACE,EAAlE;QAAN;MADb,CAAN;;IAGF,KAAK,cAAL;MAAoB;QAClB,OAAM,EAAC,GAAGR,KAAJ;UAAWS,OAAO,EAAC;YAACD,EAAE,EAACP,MAAM,CAACM;UAAX;QAAnB,CAAN;MACD;;IACD,KAAK,eAAL;MAAqB;QACnB,MAAMG,SAAS,GAACV,KAAK,CAACS,OAAN,CAAcD,EAA9B;QACA,MAAMG,QAAQ,GAAC,MAAMlB,KAAK,CAACmB,GAAN,CAAUhB,WAAW,GAAC,yBAAZ,GAAsCc,SAAhD,CAArB;QACA,MAAMG,UAAU,GAAEC,IAAI,CAACC,SAAL,CAAeJ,QAAQ,CAACK,IAAxB,CAAlB;QACA,MAAMA,IAAI,GAAGF,IAAI,CAACG,KAAL,CAAWJ,UAAX,CAAb;QACAb,KAAK,GAAC;UACJkB,OAAO,EAACF;QADJ,CAAN;QAGA;MACD;;IACD;MACE,OAAOhB,KAAP;EAnBJ;AAqBD,CAtBD;;AAwBA,OAAQ,MAAMmB,OAAN,SAAsBxB,SAAtB,CAAgC;EAAA;IAAA;IAAA,KACrCK,KADqC,GAC/B;MACHG,eAAe,EAAG;QAChBiB,OAAO,EAAE,CAAC,cAAD,EAAgB,QAAhB,EAAyB,OAAzB,CADO;QAEhBC,WAAW,EAAC,CAAC,QAAD,EAAU,QAAV,EAAmB,QAAnB,CAFI;QAGhBjB,IAAI,EAAC;MAHW,CADf;MAMHc,OAAO,EAAC,EANL;MAOHT,OAAO,EAAC;QACND,EAAE,EAAC;MADG,CAPL;MAYHc,QAAQ,EAAErB,MAAM,IAAE;QAChB,KAAKsB,QAAL,CAAcvB,KAAK,IAAED,OAAO,CAACC,KAAD,EAAOC,MAAP,CAA5B;MACD;IAdE,CAD+B;;IAAA,KAkBtCuB,iBAlBsC,GAkBnB,YAAW;MAC5B,MAAMb,QAAQ,GAAC,MAAOlB,KAAK,CAACmB,GAAN,CAAUhB,WAAW,GAAC,cAAtB,CAAtB;MACA,MAAMiB,UAAU,GAAEC,IAAI,CAACC,SAAL,CAAeJ,QAAQ,CAACK,IAAxB,CAAlB;MACA,MAAMA,IAAI,GAAGF,IAAI,CAACG,KAAL,CAAWJ,UAAX,CAAb;MACA,KAAKU,QAAL,CAAc;QAEZpB,eAAe,EAAG;UAChBiB,OAAO,EAAE,CAAC,cAAD,EAAgB,QAAhB,EAAyB,OAAzB,CADO;UAEhBC,WAAW,EAAC,CAAC,QAAD,EAAU,QAAV,EAAmB,QAAnB,CAFI;UAGhBjB,IAAI,EAACY;QAHW;MAFN,CAAd;IASD,CA/BqC;EAAA;;EAkCtCS,MAAM,GAAG;IAEP,oBACE,QAAC,WAAD,CAAa,QAAb;MAAsB,KAAK,EAAE,KAAKzB,KAAlC;MAAA,UACG,KAAK0B,KAAL,CAAWC;IADd;MAAA;MAAA;MAAA;IAAA,QADF;EAKD;;AAzCqC;AA4CxC,MAAMC,YAAY,GAAG/B,WAAW,CAACgC,QAAjC;AAEA,eAAeD,YAAf"},"metadata":{},"sourceType":"module"}